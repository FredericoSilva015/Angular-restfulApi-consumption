var app=angular.module("app",["ngResource"]);app.factory("dados",function($resource){return $resource("https://jsonplaceholder.typicode.com/posts/:id",null,{update:{method:"PUT"}})}),app.directive("ngConfirmClick",[function(){return{link:function(scope,element,attr){var msg=attr.ngConfirmClick||"Are you sure?",clickAction=attr.confirmedClick;element.bind("click",function(event){window.confirm(msg)&&scope.$eval(clickAction)})}}}]),app.controller("myCtrl",["$scope","dados",function($scope,dados){$scope.getList=function(){$scope.tempValue=dados.query(function(data){},function(error){}),$scope.tempValue.$promise.then(function(data){$scope.data=data;for(var val in $scope.data)$scope.data[val].active=!0;$scope.data=$scope.data.map(function(e){return e}),$scope.data.pop()},function(error){})},$scope.id=null,$scope.selectItem=function(){$scope.id&&($scope.tempValue=dados.get({id:$scope.id},function(data){},function(error){}),$scope.tempValue.$promise.then(function(data){$scope.data={},$scope.data[0]=data,$scope.data[0].active=!0},function(error){}))},$scope.edit=function(val){$scope.data[val].active=!$scope.data[val].active},$scope.submitItem=function(val){$scope.tempData={userId:$scope.data[val].userId,title:$scope.data[val].title,body:$scope.data[val].body},dados.update({id:val+1},$scope.tempData,function(data){},function(error){}),$scope.data[val].active=!$scope.data[val].active},$scope.deleteItem=function(val){$scope.data=$scope.data.map(function(e){return e}),$scope.data.splice(val,1),dados.remove({id:val+1})},$scope.add={userId:"",title:"",body:""},$scope.addItem=function(){dados.save($scope.add),alert("user created")}}]);